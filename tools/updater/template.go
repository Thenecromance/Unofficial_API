package updater

var apiTmpl = `package {{.PkgName}}
// AUTOMATICALLY GENERATED FILE, DO NOT EDIT
// This file is generated by tools/updater
// Author: @Thenecromance 
import (
	"Unofficial_API/internal"
	"Unofficial_API/utils"
	"context"
	"encoding/json"
)





{{range .Apis}} 
//{{.Description}}
//@see: {{.Path}}

func String{{.Name}}(ctx context.Context,  {{ if .Params}} ,
{{range .Params}}{{.Name}} {{.Type}},{{end}}
{{end}})(string,error){
	client := utils.NewRequest()
	token := internal.TryToGetToken(slug, name)


	return 	client.GET("https://webapi.blizzard.cn/wow-armory-server/api/do", "api", "",  "token",token)
}
	
func CN{{.Name}}(ctx context.Context  {{ if .Params}} ,
{{range .Params}}{{.Name}} {{.Type}},{{end}}
{{end}})(any,error){

obj, err := String{{.Name}}(ctx {{ if .Params}} ,{{range .Params}}{{.Name}},{{end}}{{end}} )
if err != nil {
		return nil,err
	}
resp :=&{{.Name}}Response{}
err = json.Unmarshal([]byte(obj), resp )
	if err != nil {
		return nil,err
	}

return resp,nil 
}

func BNet{{.Name}}(ctx context.Context  {{ if .Params}} ,
{{range .Params}}{{.Name}} {{.Type}},{{end}}
{{end}})(any,error){

obj ,err := CN{{.Name}}(ctx {{ if .Params}} ,{{range .Params}}{{.Name}},{{end}}{{end}} )
if err != nil {
	return nil,err
}


return obj.(*{{.Name}}Response).ToBNet(),nil
}

{{end}}
`

var apiListTmpl = `
`

var modelTmpl = `package {{.PkgName}}
// AUTOMATICALLY GENERATED FILE, DO NOT EDIT
// This file is generated by tools/updater (model template)
// Author: @Thenecromance


// BNet{{.Name}}Response is the unified BNet representation for {{.Name}}.
type BNet{{.Name}}Response struct{}

// {{.Name}}Response represents the raw CN API response for {{.Name}}.
type {{.Name}}Response struct{}

// ToBNet converts the CN response to the unified BNet{{.Name}}Response.
// Implementation intentionally returns nil and should be filled by hand when needed.
func (r *{{.Name}}Response) ToBNet() any {
	return nil
}

`

// Silence unused variable warning; modelTmpl is intended for future use when generating per-API model files.
var _ = modelTmpl
