package SC_StarCraftIILeague
// AUTOMATICALLY GENERATED FILE, DO NOT EDIT
// This file is generated by tools/updater
// Author: @Thenecromance 
import (
	"Unofficial_API/api/Authentication"
	"Unofficial_API/utils"
	"context"
	"encoding/json"
	"io"
	"net/http"
)

 
//==============================================================================================

type getLeagueDataFields struct{
	SeasonId string//The season ID of the data to retrieve.
	QueueId string//The queue ID of the data to retrieve.
	TeamType string//The team type of the data to retrieve.
	LeagueId string//The league ID of the data to retrieve.
	Locale string//The locale to reflect in localized data.
	
	ExtraFields map[any]any // extra fields
	utils.RequestMethod
}

//func getLeagueDataField(input *getLeagueDataFields) *getLeagueDataFields {
//input.RequestMethod = utils.RequestMethod{
//			Methods: "GET",
//			Path: "/data/sc2/league/{seasonId}/{queueId}/{teamType}/{leagueId}",
//			CnRegion:false ,
//}
//return input
//}


//getLeagueData Returns data for the specified season, queue, team, and league.

**queueId**: the standard available queueIds are: `1`=WoL 1v1, `2`=WoL 2v2, `3`=WoL 3v3, `4`=WoL 4v4, `101`=HotS 1v1, `102`=HotS 2v2, `103`=HotS 3v3, `104`=HotS 4v4, `201`=LotV 1v1, `202`=LotV 2v2, `203`=LotV 3v3, `204`=LotV 4v4, `206`=LotV Archon. Note that other available queues may not be listed here.

**teamType**: there are two available teamTypes: `0`=arranged, `1`=random.

**leagueId**: available leagueIds are: `0`=Bronze, `1`=Silver, `2`=Gold, `3`=Platinum, `4`=Diamond, `5`=Master, `6`=Grandmaster.
//
//@see: /data/sc2/league/{seasonId}/{queueId}/{teamType}/{leagueId}
func StringgetLeagueData(ctx context.Context, fields *getLeagueDataFields)(string,error){
	if fields == nil {
		fields = &getLeagueDataFields{}
	}

	func(input *getLeagueDataFields) {
	
if input.SeasonId==""{
input.SeasonId = "37"
}

	
if input.QueueId==""{
input.QueueId = "201"
}

	
if input.TeamType==""{
input.TeamType = "0"
}

	
if input.LeagueId==""{
input.LeagueId = "6"
}

	
if input.Locale==""{
input.Locale = "en_US"
}

	
		input.RequestMethod = utils.RequestMethod{
			Methods: "GET",
			Path: "/data/sc2/league/{seasonId}/{queueId}/{teamType}/{leagueId}",
			CnRegion:false ,
		}
	}(fields)
	cli := http.Client{}
	req, err := http.NewRequestWithContext(
		ctx,
		fields.Methods,
		"https://us.api.blizzard.com"+fields.Path,
		nil)
	
	if err != nil {
		return "", err
	}
	req.Header.Add("Authorization", "Bearer "+Authentication.GetToken())
	q := req.URL.Query()
	q.Add("seasonId", fields.SeasonId)
	q.Add("queueId", fields.QueueId)
	q.Add("teamType", fields.TeamType)
	q.Add("leagueId", fields.LeagueId)
	q.Add("locale", fields.Locale)
	
	req.URL.RawQuery = q.Encode()

	resp, err := cli.Do(req)
	if err != nil {
		return "", err
	}
	defer resp.Body.Close()

	responseBytes, err := io.ReadAll(resp.Body)
	if err != nil {
		return "", err
	}

	return string(responseBytes), nil
}

func CNgetLeagueData(ctx context.Context, fields *getLeagueDataFields)(any,error){

obj, err := StringgetLeagueData(ctx,fields)
if err != nil {
		return nil,err
	}
resp :=&getLeagueDataResponse{}
err = json.Unmarshal([]byte(obj), resp )
	if err != nil {
		return nil,err
	}

return resp,nil 
}

var getLeagueData = CNgetLeagueData
/*func BNetgetLeagueData(ctx context.Context, fields *getLeagueDataFields)(any,error){

obj ,err := CNgetLeagueData(ctx,fields)
if err != nil {
	return nil,err
}


return obj.(*getLeagueDataResponse).ToBNet(),nil
}*/


