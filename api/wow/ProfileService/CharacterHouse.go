package wowRetail

// AUTOMATICALLY GENERATED FILE, DO NOT EDIT
// This file is generated by tools/updater
// Author: @Thenecromance 
import (
	"Unofficial_API/internal"
	"Unofficial_API/utils"
	"context"
	"encoding/json"
)

//CharacterHouseSummary Returns a summary of a house a character has built.
//@see: /profile/wow/character/{realmSlug}/{characterName}/house/house-{houseNumber}

func StringCharacterHouseSummary(ctx context.Context,
	realmSlug string, characterName string, houseNumber int,
) (string, error) {
	client := utils.NewRequest()
	token := internal.TryToGetToken(realmSlug, characterName)

	panic("CN API is not supported for this endpoint")
	return client.GET("https://webapi.blizzard.cn/wow-armory-server/api/do", "api", "", "token", token)
}

func CNCharacterHouseSummary(ctx context.Context,
	realmSlug string, characterName string, houseNumber int,
) (any, error) {

	obj, err := StringCharacterHouseSummary(ctx, realmSlug, characterName, houseNumber)
	if err != nil {
		return nil, err
	}
	resp := &CharacterHouseSummaryResponse{}
	err = json.Unmarshal([]byte(obj), resp)
	if err != nil {
		return nil, err
	}

	return resp, nil
}

func BNetCharacterHouseSummary(ctx context.Context,
	realmSlug string, characterName string, houseNumber int,
) (any, error) {

	obj, err := CNCharacterHouseSummary(ctx, realmSlug, characterName, houseNumber)
	if err != nil {
		return nil, err
	}

	return obj.(*CharacterHouseSummaryResponse).ToBNet(), nil
}
